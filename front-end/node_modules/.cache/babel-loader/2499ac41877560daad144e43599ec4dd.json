{"ast":null,"code":"var _jsxFileName = \"/Users/wongweijie/Citi-Hackathon/citi-ezVerify/front-end/src/AuthPage/SuccessfulAuthPage.js\";\nimport React, { useEffect } from \"react\";\nimport \"../App.css\";\nimport Receipt from \"./Receipt\";\n\nfunction SuccessfulAuthPage(props) {\n  const [payee, setPayee] = React.useState(\"\");\n  const [amount, setAmount] = React.useState(\"\");\n  const [cardNumber, setCardNumber] = React.useState(\"\");\n  const [date, setDate] = React.useState(\"\");\n\n  const getTransaction = id => {\n    //  GET request using fetch() \n    fetch(\"/transactions/get_transaction/\" + id) // Converting received data to JSON \n    .then(response => response.json()).then(response => {\n      console.log(response.data);\n      let {\n        transaction_id,\n        payee,\n        amount,\n        date,\n        card_number,\n        username,\n        status\n      } = response.data[0];\n      setPayee(payee);\n      setAmount(amount);\n      setCardNumber(card_number);\n      setDate(date);\n    });\n  };\n\n  useEffect(() => getTransaction(props.match.params.id));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"appAuth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Receipt, {\n    merchant: payee,\n    amount: amount,\n    date: date.slice(0, 10) + \" \" + date.slice(11, 22),\n    card_number: cardNumber,\n    transaction_id: props.match.params.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default SuccessfulAuthPage;","map":{"version":3,"sources":["/Users/wongweijie/Citi-Hackathon/citi-ezVerify/front-end/src/AuthPage/SuccessfulAuthPage.js"],"names":["React","useEffect","Receipt","SuccessfulAuthPage","props","payee","setPayee","useState","amount","setAmount","cardNumber","setCardNumber","date","setDate","getTransaction","id","fetch","then","response","json","console","log","data","transaction_id","card_number","username","status","match","params","slice"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAE/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,KAAK,CAACO,QAAN,CAAe,EAAf,CAA5B;AACA,QAAM,CAACG,UAAD,EAAaC,aAAb,IAA8BX,KAAK,CAACO,QAAN,CAAe,EAAf,CAApC;AACA,QAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBb,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB;;AAEA,QAAMO,cAAc,GAAIC,EAAD,IAAQ;AAC3B;AACAC,IAAAA,KAAK,CAAC,mCAAiCD,EAAlC,CAAL,CAEA;AAFA,KAGCE,IAHD,CAGMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAHlB,EAICF,IAJD,CAIMC,QAAQ,IAAI;AACdE,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB;AACA,UAAI;AAACC,QAAAA,cAAD;AAAiBlB,QAAAA,KAAjB;AAAwBG,QAAAA,MAAxB;AAAgCI,QAAAA,IAAhC;AAAsCY,QAAAA,WAAtC;AAAkDC,QAAAA,QAAlD;AAA2DC,QAAAA;AAA3D,UAAqER,QAAQ,CAACI,IAAT,CAAc,CAAd,CAAzE;AACAhB,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAI,MAAAA,SAAS,CAACD,MAAD,CAAT;AACAG,MAAAA,aAAa,CAACa,WAAD,CAAb;AACAX,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAXD;AAYD,GAdH;;AAgBAX,EAAAA,SAAS,CAAC,MAAMa,cAAc,CAACV,KAAK,CAACuB,KAAN,CAAYC,MAAZ,CAAmBb,EAApB,CAArB,CAAT;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,OAAD;AACI,IAAA,QAAQ,EAAIV,KADhB;AAEI,IAAA,MAAM,EAAIG,MAFd;AAGI,IAAA,IAAI,EAAII,IAAI,CAACiB,KAAL,CAAW,CAAX,EAAa,EAAb,IAAiB,GAAjB,GAAqBjB,IAAI,CAACiB,KAAL,CAAW,EAAX,EAAc,EAAd,CAHjC;AAII,IAAA,WAAW,EAAInB,UAJnB;AAKI,IAAA,cAAc,EAAIN,KAAK,CAACuB,KAAN,CAAYC,MAAZ,CAAmBb,EALzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADJ;AAWH;;AAED,eAAeZ,kBAAf","sourcesContent":["import React , {useEffect} from \"react\";\nimport \"../App.css\";\nimport Receipt from \"./Receipt\";\n\nfunction SuccessfulAuthPage(props) {\n\n    const [payee, setPayee] = React.useState(\"\");\n    const [amount, setAmount] = React.useState(\"\");\n    const [cardNumber, setCardNumber] = React.useState(\"\");\n    const [date, setDate] = React.useState(\"\");\n\n    const getTransaction = (id) => {\n        //  GET request using fetch() \n        fetch(\"/transactions/get_transaction/\"+id) \n            \n        // Converting received data to JSON \n        .then(response => response.json())\n        .then(response => {\n            console.log(response.data)\n            let {transaction_id, payee, amount, date, card_number,username,status} = response.data[0];\n            setPayee(payee);\n            setAmount(amount);\n            setCardNumber(card_number);\n            setDate(date);\n        }); \n      }\n\n    useEffect(() => getTransaction(props.match.params.id));\n\n    return (\n        <div className=\"appAuth\">\n        <Receipt\n            merchant = {payee}\n            amount = {amount}\n            date = {date.slice(0,10)+\" \"+date.slice(11,22)}\n            card_number = {cardNumber}\n            transaction_id = {props.match.params.id}\n        />\n        </div>\n    );\n}\n\nexport default SuccessfulAuthPage;"]},"metadata":{},"sourceType":"module"}